<!DOCTYPE html>
<html>
<head>
    <!--<meta charset="utf-8" />-->
    <title>NTLX Company</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="../Scripts/ajaxCalls.js"></script>
    <script src="../Scripts/dateTimeHelpers.js"></script>
    <script src="../Scripts/discountTblActions.js"></script>
    <script>
        var codesUrl = "https://api.skypicker.com/locations?type=dump&locale=en-US&location_types=airport&limit=4000&active_only=true&sort=name";
        var airlineCodesUrl = "https://api.skypicker.com/airlines?";
        $(document).ready(function () {
            // populate datalist with data
            if (!('locationCodes' in localStorage)) {
                $.get(codesUrl).done((data) => {
                    codesArr = data.locations
                    localStorage['locationCodes'] = JSON.stringify(codesArr)
                    populateDataList(codesArr)
                });
                $.get(codesUrl).fail((err) => {
                    console.log(err);
                });
            } else { // localStorage already contains the location codes
                codesArr = JSON.parse(localStorage['locationCodes'])
                populateDataList(codesArr)
            }
            // populate datalist

            // get discounts on page load
            ajaxCall("GET", "../api/discounts", "", getDiscountsForSearchSuccess, discountErr); // load discounts from server for user search

            // interface show/hide handling
            $("#searchBookFlights").click(() => {
                $("#mainFrame").show();
                $("#adminLoginForm").hide();
                $("#adminPanel").hide();
                $("#flightBookForm").show();
                
            });
            $("#adminPanelBTN").click(() => {
                $("#flightBookForm").hide();
                $("#mainFrame").show();
                if ('adminLoggedIn' in localStorage) {
                    $("#adminLoginForm").hide();
                    $("#adminPanel").show();
                } else {
                    $("#adminLoginForm").show();
                }
            });
            $("#orderInterfaceBTN").click(() => {
                $("#discountInterface").hide();
                ajaxCall("GET", "../api/flights", "", getOrdersSuccess, discountErr); // load orders from server
                $("#orderInterface").show();
            });
            $("#discountInterfaceBTN").click(() => {
                $("#orderInterface").hide();
                ajaxCall("GET", "../api/discounts", "", getDiscountsSuccess, discountErr); // load discounts from server
                $("#discountInterface").show();
            });
            $("#cancelOrder").click(() => {
                $("#orderFrame").hide();
                $("#tablePH").show();
            });
            // interface show/hide handling

            // login submit
            $("#loginForm").submit(login);

            $("#discountCancelBTN").on("click", function () {
                discount = null;
                $("#discountEditDiv").hide();
            });

            $("#discountForm").submit(discountEditSubmitHandler); // wire the submit event to a function called f1
            $("#searchForm").submit(handleSearch);
            $("#myFlightsBTN").click(handleMyFlights);
            $('input[name="sources"], input[name="destinations"]').on("blur", validateInDataList);

            // validate dates in form
            dateStabilizer();
        }
        )


        function getOrdersSuccess(orderdata) {
            if ($.fn.dataTable.isDataTable("#orderTable")) { // dont create datatable if it exists, will result in error
                redrawTable(orderTbl, orderdata);
                return;
            }

            try {
                orderTbl = $('#orderTable').DataTable({
                    data: orderdata,
                    pageLength: 5,
                    scrollX: true,
                    columns: [
                        { data: "Id" },
                        { data: "Email" },
                        {
                            data: "Price",
                            render: function (data, type, row, meta) {
                                return `${row.Price} €`;
                            }
                        },
                        { data: "CodeFrom" },
                        { data: "CodeTo" },
                        {
                            data: "DepartureTime",
                            render: function (data, type, row, meta) {
                                return row.DepartureTime.replace("T", " ");
                            }
                        },
                        {
                            data: "ArrivalTime",
                            render: function (data, type, row, meta) {
                                return row.ArrivalTime.replace("T", " ");
                            }
                        },
                        { data: "Stops" },
                        { data: "FlyDuration" },
                        {
                            data: "OrderDate",
                            render: function (data, type, row, meta) {
                                return row.OrderDate.replace("T", " ");
                            }
                        },
                        { data: "Passengers" }
                    ],
                });
                $("#orderLoading").hide();
                $("#orderEditForm").show();
                orderTbl.columns.adjust();
                buttonEvents();
            }

            catch (err) {
                console.log("err: " + err);
            }
        }


        function getDiscountsForSearchSuccess(data) {
            localStorage["discountsUpdated"] = JSON.stringify(data);
            $("#loadingTabs").hide();
            $("#tabs").show();
        }


        function getDiscountsSuccess(discountdata) {
            localStorage["discountsUpdated"] = JSON.stringify(discountdata); // maintain most recent discount arr

            if ($.fn.dataTable.isDataTable("#discountTable")) { // dont create datatable if it exists, will result in error
                redrawTable(tbl, discountdata);
                return;
            }

            try {
                tbl = $('#discountTable').DataTable({
                    data: discountdata,
                    pageLength: 5,
                    columns: [
                        {
                            render: function (data, type, row, meta) {
                                let dataDiscount = "data-discountId='" + row.Id + "'";

                                editBtn = "<button type='button' class = 'discountEditBtn btn btn-success' " + dataDiscount + "> Edit </button>";
                                viewBtn = "<button type='button' class = 'discountViewBtn btn btn-info' " + dataDiscount + "> View </button>";
                                deleteBtn = "<button type='button' class = 'discountDeleteBtn btn btn-danger' " + dataDiscount + "> Delete </button>";
                                return editBtn + viewBtn + deleteBtn;
                            }
                        },
                        { data: "Id" },
                        { data: "Airline" },
                        { data: "From" },
                        { data: "To" },
                        {
                            data: "StartDate",
                            render: function (data, type, row, meta) {
                                return row.StartDate.split("T")[0];
                            }
                        },
                        {
                            data: "EndDate",
                            render: function (data, type, row, meta) {
                                return row.EndDate.split("T")[0];
                            }
                        },
                        { data: "DiscountRate" }
                    ],
                });
                $("#discountLoading").hide();
                $("#discountEditForm").show();
                tbl.columns.adjust();
                buttonEvents();
            }

            catch (err) {
                console.log("err: " + err);
            }
        }

        // this function is activated in case of a failure
        function discountErr(err) {
            swal("Error: " + err);
        }


        function login() {
            // handle login logic
            let qstring = "../api/admins?username=" + $("#username").val() + "&password=" + $("#password").val();
            ajaxCall("GET", qstring, "", loginSuccess, loginErr);
            return false; // preventDefault
        }


        function loginSuccess(data) {
            if (data === "Validated") {
                localStorage['adminLoggedIn'] = "loggedIn";
                swal("logged in successfully!", "Great Job", "success");
                $('#adminPanelBTN').trigger('click');
            }
            else {
                swal("wrong credentials");
            }
        }


        function loginErr() {
            alert("something went wrong with authentication");
        }


        function validateInDataList() {
            let parsedArr = JSON.parse(localStorage['locationCodes'])

            if (typeof parsedArr.find(x => x.name === $(this).val()) === "undefined") {
                this.validity.valid = false;
                this.setCustomValidity('Value not from list');
            }
            else {
                this.validity.valid = true;
                this.setCustomValidity('');
            }
        }


        function populateDataList(codesArr) {
            for (var i = 0; i < codesArr.length; i++) {
                let code = codesArr[i].code;
                let name = codesArr[i].name;
                $("datalist").append('<option label="' + code + '"' + ' value="' + name + '">');
            }
        }


        function handleMyFlights() {
            ajaxCall("GET", "../api/flights", "", handleGetSuccess, handleGetErr);
        }


        function handleSearch() {
            // value attribute will be used to find airport code
            let fromVal = $('input[name="sources"]').val();
            let toVal = $('input[name="destinations"]').val();

            let from = $('#sources [value="' + fromVal + '"]').attr('label');
            let to = $('#destinations [value="' + toVal + '"]').attr('label');
            let start = $("#startDATE").val();
            let end = $("#endDATE").val();
            let url = getQueryURL(from, to, reverseDate(start), reverseDate(end))
            ajaxCall("GET", url, "", handleSearchSuccess, handleSearchError);
            return false;
        }


        function handleSearchSuccess(data) {
            dataArr = data.data
            if (dataArr.length === 0) {
                $("#tablePH").empty()
                $("#tablePH").append(
                    '<div id="searchRes">No Results</div>'
                )
                return;
            }
            for (var i = 0; i < dataArr.length; i++) {
                if (i === 0) {
                    $("#tablePH").empty()
                    $("#tablePH").append(
                        '<div id="searchRes">Search Query Results:</div>\
                                                            <br />\
                                                            <table>\
                                                            <thead>\
                                                                <tr>\
                                                                    <th>Price</th>\
                                                                    <th>Departure time</th>\
                                                                    <th>Arrival time</th>\
                                                                    <th>From</th>\
                                                                    <th>To</th>\
                                                                    <th>Stops</th>\
                                                                    <th>Airline name</th>\
                                                                    <th>Store in DB</th>\
                                                                </tr>\
                                                            </thead>\
                                                            <tbody id="resultPH"></tbody>\
                                                        </table>'
                    )
                }
                let currentItem = dataArr[i]
                let flightId = currentItem.id
                let price = currentItem.conversion.EUR + ' €'
                let departureTime = convertToHumanTime(currentItem.dTime)
                let arrivalTime = convertToHumanTime(currentItem.aTime)
                let from = currentItem.cityFrom + ', ' + currentItem.countryFrom.name
                let codeFrom = currentItem.flyFrom
                let to = currentItem.cityTo + ', ' + currentItem.countryTo.name
                let codeTo = currentItem.flyTo
                let flyDuration = currentItem.fly_duration
                var stops = ''
                let airline = currentItem.route[0].airline
                for (var j = 0; j < currentItem.route.length; j++) {
                    if (currentItem.route.length === 1) {
                        break;
                    }
                    currentRoute = currentItem.route[j]
                    stops += currentRoute.cityTo + ', '
                }
                if (stops !== '') {
                    let targetCity = to.split(',')[0]
                    stops = stops.replace(targetCity, "")
                    stops = stops.substring(0, stops.length - 4)
                } else {
                    stops = 'Direct flight'
                }
                let numStops = (stops === 'Direct flight') ? 0 : (stops.match(/,/g) || []).length + 1;
                let route = JSON.stringify(currentItem.route);
                let newPrice = discountCheck(numStops, codeFrom, codeTo, airline, price, departureTime, arrivalTime);
                let newPriceStr = (newPrice !== false) ? ('<td id="discounted">' + newPrice + ' €' + '</td>') : ('<td>' + price + '</td>');
                dataStr = ` data-price="${newPrice ? newPrice : price}" \
                                    data-departuretime="${departureTime}" \
                                    data-flightid="${flightId}" \
                                    data-arrivaltime="${arrivalTime}" \
                                    data-from="${from}" \
                                    data-codefrom="${codeFrom}" \
                                    data-codeto="${codeTo}" \
                                    data-to="${to}" \
                                    data-route='${route}' \
                                    data-stops="${stops}" \
                                    data-numstops="${numStops}" \
                                    data-flyduration="${flyDuration}" \
                                    data-airline="${airline}" `
                $("#resultPH").append(
                    '<tr>' +
                    newPriceStr +
                    '<td>' + departureTime + '</td>' +
                    '<td>' + arrivalTime + '</td>' +
                    '<td>' + from + '</td>' +
                    '<td>' + to + '</td>' +
                    '<td>' + stops + '</td>' +
                    '<td>' + airline + '</td>' +
                    '<td>' + '<center><input type="button" class="addButton" value="Order"' + dataStr + '/>' + '</center></td>' +
                    '</tr>'
                )
            }
            $(".addButton").on("click", function () {
                document.getElementById("orderForm").reset();
                let flightId = $(this).data("flightid");
                let price = parseFloat($(this).data("price"));
                let departureTime = $(this).data("departuretime").replace(" ", "T");
                let arrivalTime = $(this).data("arrivaltime").replace(" ", "T");
                let from = $(this).data("from");
                let codeFrom = $(this).data("codefrom");
                let to = $(this).data("to");
                let codeTo = $(this).data("codeto");
                let stops = $(this).data("stops");
                let airline = $(this).data("airline");
                let numStops = $(this).data("numstops");
                let flyDuration = $(this).data("flyduration");
                let legArr = constructLegs($(this).data("route"), flightId);
                let orderDate = moment().format("YYYY-MM-DDTHH:mm:ss");
                $("#tablePH").hide();
                $("#orderFrame").show();
                $('#orderForm').unbind('submit').submit(function () {
                    let o = {
                        Id: flightId,
                        Price: price,
                        DepartureTime: departureTime,
                        ArrivalTime: arrivalTime,
                        From: from,
                        CodeFrom: codeFrom,
                        To: to,
                        CodeTo: codeTo,
                        Stops: stops,
                        Airline: airline,
                        NumStops: numStops,
                        FlyDuration: flyDuration,
                        LegArr: legArr,
                        OrderDate: orderDate,
                        Passengers: $("#orderNames").val(),
                        Email: $("#orderEmail").val()
                    }
                    ajaxCall("POST", "../api/flights", JSON.stringify(o), flightPostSuccess, (err) => swal("Error: " + err));
                    return false; // preventDefault
                });
            })
        }


        function flightPostSuccess() {
            $('#cancelOrder').trigger('click');
            swal("Ordered Successfully!", "Great Job", "success");
        }


        function handleSearchError(err) {
            console.log(err.responseJSON.ExceptionMessage)
        }


        function getQueryURL(from, to, dateFrom, dateTo) {
            return `https://api.skypicker.com/flights?flyFrom=${from}&to=${to}&dateFrom=${dateFrom}&dateTo=${dateTo}&partner=picky`
        }


        function constructLegs(route, tripId) {
            result = []
            for (var i = 0; i < route.length; i++) {
                let { id, flyFrom, flyTo, airline, dTime, aTime, flight_no, dTimeUTC, aTimeUTC } = route[i];
                routeObj = {
                    Id: id,
                    TripId: tripId,
                    LegNum: i + 1,
                    FlightNo: '' + flight_no,
                    CodeFrom: flyFrom,
                    CodeTo: flyTo,
                    AirlineCode: airline,
                    DepartureTime: convertToHumanTime(dTime).replace(" ", "T"),
                    ArrivalTime: convertToHumanTime(aTime).replace(" ", "T"),
                    FlyDuration: unixToHourMinute(aTimeUTC - dTimeUTC)
                }
                result.push(routeObj);
            }
            return result;
        }


        function discountCheck(numstops, from, to, airline, price, fromDate, toDate) {
            // returns false if no discount, otherwise returns the updated price
            if (numstops !== 0) {
                return false;
            }

            let discountsArr = JSON.parse(localStorage["discountsUpdated"]);

            for (var i = 0; i < discountsArr.length; i++) {
                let currentDiscount = discountsArr[i];
                if (from === currentDiscount.From && to === currentDiscount.To && airline === currentDiscount.Airline) {
                    if (isInBetween(currentDiscount.StartDate, currentDiscount.EndDate, fromDate)
                            && isInBetween(currentDiscount.StartDate, currentDiscount.EndDate, toDate)) {
                        let discountRate = parseInt(currentDiscount.DiscountRate.replace("%", ""));
                        return parseInt(parseFloat(price) * (1 - (discountRate / 100)));
                    }

                }
            }
            return false;
        }
    </script>
    <style>
        #discounted {
            border: 2px solid red;
        }

        #resultPH td {
            padding: 5px;
        }

        #tablePH th {
            padding-left: 5px;
            padding-right: 5px;
        }

        button {
            margin-left: 10px;
        }

        form {
            border: 1px solid black;
        }

        td {
            border: 1px solid black;
        }

        #noBorder {
            border: 0px;
        }

        #searchRes {
            font-size: 20px;
        }

        .orderBTN {
            background-color: #4CAF50;
            color: white;
            padding: 12px;
            margin: 15px;
            border: none;
            width: 10%;
            border-radius: 3px;
            cursor: pointer;
            font-size: 17px;
        }

        .cancelOrderBTN {
            background-color: #FF0000;
            color: white;
            padding: 12px;
            margin: 15px;
            border: none;
            width: 10%;
            border-radius: 3px;
            cursor: pointer;
            font-size: 17px;
        }

        input[type=text], input[type=password], #discountStartDate, #discountEndDate {
            width: 40%;
            margin: 15px;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        label {
            margin: 7px;
            display: block;
        }
    </style>
</head>
<body>
    <h1>NTLX Flight Company</h1>
    <div id="loadingTabs">
        Loading...
    </div>
    <div id="tabs" style="display: none;">
        <button id="searchBookFlights" type="button" style="height: 30px;width: 170px">
            Search and book flights
        </button>
        <span style="font-size: 20px;"><b>&nbsp||||&nbsp</b></span>
        <button id="adminPanelBTN" type="button" style="height: 30px;width: 170px">
            Admin Panel
        </button>
    </div>
    <br />
    <br />
    <div id="mainFrame" style="display: none; border: 3px solid black; margin-left: 10px; margin-bottom: 10px; margin-right: 10px;">
        <div id="adminLoginForm" style="display: none; margin: 15px;">
            <form id="loginForm">
                <div style="margin: 15px;">
                    <label for="username"><b>Username:</b></label>
                    <input id="username" type="text" placeholder="Enter Username" name="username" required>
                    <label for="password"><b>Password:</b></label>
                    <input id="password" type="password" placeholder="Enter Password" name="passsword" required>
                    <br />
                    <button id="submitLogin" class="orderBTN" type="submit">Login</button>
                </div>
            </form>
        </div>
        <div id="adminPanel" style="display: none; margin: 15px;">
            <button id="orderInterfaceBTN" type="button">Order interface</button>
            <button id="discountInterfaceBTN" type="button">Discount interface</button>
            <br />
            <br />
            <div id="orderInterface" class="container-fluid" style="display: none;">
                <span id="orderLoading">Loading...</span>
                <form id="orderEditForm" style="display: none;">
                    <table id="orderTable" class="display nowrap" style="width:100%">
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Email</th>
                                <th>Price</th>
                                <th>From (code)</th>
                                <th>To (code)</th>
                                <th>Departure time</th>
                                <th>Arrival time</th>
                                <th>Stops</th>
                                <th>Fly duration</th>
                                <th>Order Date</th>
                                <th>Passengers</th>
                            </tr>
                        </thead>
                    </table>
                </form>
            </div>
            <div id="discountInterface" class="container-fluid" style="display: none;">
                <span id="discountLoading">Loading...</span>
                <form id="discountEditForm" style="display: none;">
                    <input type="button" value="New" class="discountNewBtn btn btn-primary btn-lg" data-clickedflag="no" />
                    <table id="discountTable" class="display nowrap" style="width:100%">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Id</th>
                                <th>Airline code</th>
                                <th>From</th>
                                <th>To</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Discount</th>
                            </tr>
                        </thead>
                    </table>
                </form>
                <br />
                <div id="discountEditDiv" style="display: none;">
                    <form id="discountForm">
                        <div class="form-group row" style="margin-left: 10px;">
                            <div class="form-group">
                                <label for="discountAirline"><span class="red-star">★ </span>Airline Code</label>
                                <input type="text" class="form-control" id="discountAirline" placeholder="Enter the Airline name" required>
                            </div>

                            <div class="form-group">
                                <label for="discountFrom"><span class="red-star">★ </span>From</label>
                                <input type="text" class="form-control" id="discountFrom" placeholder="Enter the FROM location" required>
                            </div>

                            <div class="form-group">
                                <label for="discountTo"><span class="red-star">★ </span>To</label>
                                <input type="text" class="form-control" id="discountTo" placeholder="Enter the TO location" required>
                            </div>

                            <div class="form-group">
                                <label for="discountStartDate"><span class="red-star">★ </span>Start Date</label>
                                <input type="date" class="form-control" id="discountStartDate" placeholder="Enter the Start Date" style="width: 15%" required />
                            </div>

                            <div class="form-group">
                                <label for="discountEndDate"><span class="red-star">★ </span>End Date</label>
                                <input type="date" class="form-control" id="discountEndDate" placeholder="Enter the End Date" style="width: 15%" required />
                            </div>

                            <div class="form-group">
                                <label for="discountRate"><span class="red-star">★ </span>Discount Rate</label>
                                <input type="text"
                                       class="form-control"
                                       id="discountRate"
                                       placeholder="Enter the Discount Rate"
                                       pattern="^((100)|(\d{1,2}(\.\d*)?))%$"
                                       oninvalid="this.setCustomValidity('Enter a number (<100) followed by %, for example: 25%')"
                                       oninput="this.setCustomValidity('')"
                                       required />
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary btn-lg" id="discountSaveBTN">Save</button>
                        <input type="button" class="btn btn-warning btn-lg" id="discountCancelBTN" value="Cancel" />
                    </form>
                </div>
            </div>
        </div>
        <div id="flightBookForm" style="display: none; margin: 15px;">
            <form id="searchForm">
                <br />
                <table>
                    <tr>
                        <td id="noBorder">Fly From:</td>
                        <td id="noBorder">
                            <input name="sources" list="sources" required />
                            <datalist id="sources"></datalist>
                        </td>
                    </tr>
                    <tr>
                        <td id="noBorder">Fly To:</td>
                        <td id="noBorder">
                            <input name="destinations" list="destinations" required />
                            <datalist id="destinations"></datalist>
                        </td>
                    </tr>
                    <tr>
                        <td id="noBorder">Start date:</td>
                        <td id="noBorder">
                            <input type="date"
                                   id="startDATE"
                                   min=""
                                   required />
                        </td>
                    </tr>
                    <tr>
                        <td id="noBorder">End date:</td>
                        <td id="noBorder">
                            <input type="date"
                                   id="endDATE"
                                   min=""
                                   required />
                        </td>
                    </tr>
                    <tr>
                        <td id="noBorder">
                            <input style="height: 40px;width: 80px" type="submit" id="searchBTN" value="Search" />
                        </td>
                    </tr>
                    <!--<tr>
                        <td id="noBorder">
                            <input type="button" id="myFlightsBTN" value="MyFlights" />
                        </td>
                    </tr>-->
                </table>
                <br />
            </form>
            <div id="tablePH">

            </div>
            <br />
            <div id="orderFrame" style="display: none;">
                <form id="orderForm">
                    <label for="orderNames"><i class="fa fa-user"></i> <b>Names of Passengers</b></label>
                    <input id="orderNames" type="text" name="firstname" placeholder="Name 1, Name 2, ..." required>
                    <label for="orderEmail"><i class="fa fa-envelope"></i> <b>Email</b></label>
                    <input id="orderEmail" type="text" name="email" placeholder="john@example.com" pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,63}$" required>
                    <label for="agree">
                        <input type="checkbox" checked="checked" name="sameadr" id="agree" required> Agree to terms and conditions of NTLX company
                    </label>
                    <br />
                    <input type="submit" value="Place Order" id="submitOrder" class="orderBTN">
                    <br />
                    <input type="button" value="Cancel" id="cancelOrder" class="cancelOrderBTN">
                </form>
            </div>
        </div>
    </div>
</body>
</html>